<div class="header">
    <h2>Create an IBMid</h2>
    <p>Already have an IBM account?<a style="margin-left: 2px;" routerLink="signIn">Log in</a></p>
    <br>
    <p>Account Information</p>
</div>
<div>
    <form [formGroup]="signUpForm" (ngSubmit)="handleSubmit()">
        <div class="inputs">
            <div class="input">
                <label for="businessEmail">Business Email</label>
                <input type="email" id="businessEmail" [class.required]="emailWarning !== ''" formControlName="businessEmail" (ngModelChange)="validateEmail()">
                <span class="warning">{{emailWarning}}</span>
            </div>
            <div class="input">
                <label for="password">Password</label>
                <input type="password" id="password" formControlName="password" [class.required]="passwordWarning !== ''" (ngModelChange)="validatePassword()">
                <span class="warning">{{passwordWarning}}</span>
            </div>
        </div>
        <div class="inputs">
            <div class="input">
                <label for="firstName">First name</label>
                <input type="text" id="firstName" formControlName="firstName" [class.required]="firstNameWarning !== ''" (ngModelChange)="validateFirstName()">
                <span class="warning">{{firstNameWarning}}</span>
            </div>
            <div class="input">
                <label for="lastName">Last name</label>
                <input type="text" id="lastName" formControlName="lastName" [class.required]="lastNameWarning !== ''" (ngModelChange)="validateLastName()">
                <span class="warning">{{lastNameWarning}}</span>
            </div>

        </div>
        <div class="inputs">
            <div class="input">
                <label for="country">Country or region of residence</label>
                <select id="country" (ngModelChange)="validateCountry()" [class.required]="countryWarning !== ''" formControlName="country">
                    @for (item of countries; track item) {
                    <option [value]='item'>{{item}}</option>
                    }
                </select>
                <span class="warning">{{countryWarning}}</span>
            </div>
            <div class="input" [hidden]='showStates'>
                <label for="state">State or province</label>
                <select id="state" (ngModelChange)="validateState()" [class.required]="stateWarning !== ''" formControlName="state">
                    @if(signUpForm.value.country){
                    @for (item of states[signUpForm.value.country]; track item) {
                    <option [value]='item'>{{item}}</option>
                    }
                    }
                </select>
                <span class="warning">{{stateWarning}}</span>
            </div>
        </div>
        <div class="inputs" id="radio">
            <div class="input">
                <p>Are you a Student?</p>
                <label for="yes"><input type="radio" value="Yes" id="yes" name="studentStatus"
                        formControlName="studentStatus"> Yes</label>
                <label for="no"><input type="radio" value="No" id="no" name="studentStatus"
                        formControlName="studentStatus"> No</label>
                        <br>
                <span class="warning">{{studentStatusWarning}}</span>
            </div>
        </div>
        <div class="inputs">
            <button type="submit" id="button">Next</button>
        </div>
    </form>
</div>